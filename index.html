<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="CHENÊó•Êú¨Ë°å">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#F9F5F0">
    
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">

    <title>2026 CHEN‚Äôs Family Trip</title>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root { 
            --bg-page: #F9F5F0; --bg-card: #FFFFFF; --text-main: #4A3F35; 
            --text-sub: #A6907D; --accent: #B07D4F; --accent-light: #F2E9DE; 
            --safe-area-top: env(safe-area-inset-top);
            --safe-area-bottom: env(safe-area-inset-bottom);
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Noto Sans JP', sans-serif; background-color: var(--bg-page); color: var(--text-main); margin: 0; padding-top: var(--safe-area-top); }
        
        header { padding: 25px 20px 10px 20px; text-align: center; background-color: var(--bg-page); }
        header h1 { font-size: 1.2rem; font-weight: 700; letter-spacing: 0.1em; margin: 0; color: var(--text-main); text-transform: uppercase; }

        .calendar-nav { background: #FAF7F2; display: flex; overflow-x: auto; padding: 15px 10px; gap: 12px; position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid #EFE9E1; scrollbar-width: none; }
        .date-item { flex: 0 0 55px; text-align: center; padding: 10px 0; border-radius: 12px; color: var(--text-sub); cursor: pointer; transition: 0.3s; }
        .date-item.active { background: var(--accent); color: #FFF; transform: rotate(-1deg); box-shadow: 0 4px 10px rgba(176, 125, 79, 0.2); }
        .date-item b { font-size: 1.1rem; display: block; }

        main { padding: 15px 15px 120px 15px; max-width: 600px; margin: 0 auto; }
        .city-hero { height: 180px; border-radius: 28px; margin-bottom: 15px; display: flex; flex-direction: column; justify-content: flex-end; padding: 20px; color: white; background-size: cover; background-position: center; position: relative; overflow: hidden; }
        .city-hero::after { content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(rgba(0,0,0,0) 30%, rgba(74, 63, 53, 0.6)); }

        .weather-bar { display: flex; gap: 8px; margin-bottom: 20px; overflow-x: auto; scrollbar-width: none; }
        .weather-tag { background: rgba(176, 125, 79, 0.08); border: 1px solid rgba(176, 125, 79, 0.15); padding: 8px 12px; border-radius: 14px; display: flex; align-items: center; gap: 6px; font-size: 0.75rem; color: var(--accent); white-space: nowrap; }

        .card { background: var(--bg-card); border-radius: 24px; padding: 20px; border: 1px solid rgba(166, 144, 125, 0.1); display: flex; gap: 15px; cursor: pointer; align-items: center; position: relative; box-shadow: 0 4px 12px rgba(166, 144, 125, 0.08); margin-bottom: 12px; }
        .card-icon { flex: 0 0 45px; height: 45px; background: var(--bg-page); border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .card-icon i { font-size: 1.6rem; color: var(--accent); }
        .card-body { flex: 1; }
        .card-title { font-size: 1rem; font-weight: 500; padding-right: 45px; }

        .transit-line { margin: -5px 0 10px 42px; padding: 10px 20px; border-left: 2px dashed var(--accent-light); display: flex; align-items: center; justify-content: space-between; font-size: 0.85rem; color: var(--accent); font-weight: 600; }
        .transit-info-btn { width: 30px; height: 30px; border-radius: 50%; background: var(--accent-light); border: none; color: var(--accent); display: flex; align-items: center; justify-content: center; cursor: pointer; }

        .nav-btn { position: absolute; right: 18px; width: 45px; height: 45px; background: transparent; color: var(--text-sub); display: flex; align-items: center; justify-content: center; border: none; cursor: pointer; opacity: 0.8; }
        .nav-btn i { font-size: 2rem; }

        .map-fab { position: fixed; bottom: calc(30px + var(--safe-area-bottom)); right: 25px; width: 60px; height: 60px; background: var(--accent); color: #FFF; border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 0 8px 25px rgba(176, 125, 79, 0.4); z-index: 1500; text-decoration: none; }
        .map-fab i { font-size: 1.8rem; }
        .map-fab span { font-size: 0.6rem; font-weight: 700; margin-top: -2px; }

        .drawer-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(74, 63, 53, 0.4); z-index: 2000; visibility: hidden; opacity: 0; transition: 0.3s; backdrop-filter: blur(4px); }
        .drawer { position: fixed; bottom: -100%; left: 0; width: 100%; background: #FFF; border-radius: 32px 32px 0 0; padding: 35px 25px calc(30px + var(--safe-area-bottom)); z-index: 2001; transition: 0.4s; max-height: 85vh; overflow-y: auto; }
        .drawer.active { bottom: 0; }
        .drawer-overlay.active { visibility: visible; opacity: 1; }
        
        .info-tag { display: inline-block; padding: 4px 12px; border-radius: 8px; font-size: 0.75rem; background: var(--accent-light); color: var(--accent); margin-bottom: 12px; font-weight: 700; }
        .facility-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 10px 0; }
        .facility-item { background: var(--bg-page); padding: 10px; border-radius: 12px; text-align: center; font-size: 0.7rem; }
        .facility-item i { display: block; font-size: 1.2rem; margin-bottom: 4px; color: var(--accent); }

        .spot-guide-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 15px; }
        .guide-box { background: var(--bg-page); padding: 15px; border-radius: 18px; border: 1px solid rgba(176, 125, 79, 0.1); }
        .guide-box-title { font-size: 0.8rem; font-weight: 700; color: var(--accent); margin-bottom: 8px; display: flex; align-items: center; gap: 5px; }
        
        .btn-close { display: block; width: 100%; padding: 16px; background: var(--accent); color: #fff; border-radius: 16px; border: none; font-weight: 700; margin-top: 25px; cursor: pointer; }
    </style>
</head>
<body>

    <header><h1>2026 CHEN‚Äôs Family Trip</h1></header>

    <nav class="calendar-nav" id="dateNav">
        <div class="date-item active" onclick="switchDay(1)"><span>SAT</span><b>11</b></div>
        <div class="date-item" onclick="switchDay(2)"><span>SUN</span><b>12</b></div>
        <div class="date-item" onclick="switchDay(3)"><span>MON</span><b>13</b></div>
        <div class="date-item" onclick="switchDay(4)"><span>TUE</span><b>14</b></div>
        <div class="date-item" onclick="switchDay(5)"><span>WED</span><b>15</b></div>
        <div class="date-item" onclick="switchDay(6)"><span>THU</span><b>16</b></div>
        <div class="date-item" onclick="switchDay(7)"><span>FRI</span><b>17</b></div>
        <div class="date-item" onclick="switchDay(8)"><span>SAT</span><b>18</b></div>
    </nav>

    <a href="https://www.tokyometro.jp/station/pdf/202305/202305_number_tcn.pdf" target="_blank" class="map-fab">
        <i class="ph-bold ph-train"></i><span>Âú∞ÈêµÂúñ</span>
    </a>

    <main>
        <div class="city-hero" id="heroImage"><div class="city-hero-content"><span id="heroDate"></span><h2 id="heroTitle"></h2></div></div>
        <div class="weather-bar" id="weatherBarArea"></div>
        <div id="dayContentArea"></div>
    </main>

    <div class="drawer-overlay" id="drawerOverlay" onclick="closeDrawer()"></div>
    <div class="drawer" id="infoDrawer"><div id="drawerBody"></div></div>

    <script>
        const weatherData = {
            1: { temp: "14¬∞-21¬∞C", rain: "10%", aqi: "32", icon: "ph-sun" },
            2: { temp: "12¬∞-19¬∞C", rain: "20%", aqi: "45", icon: "ph-cloud-sun" },
            3: { temp: "13¬∞-22¬∞C", rain: "0%", aqi: "28", icon: "ph-sun" },
            4: { temp: "15¬∞-24¬∞C", rain: "40%", aqi: "56", icon: "ph-cloud-rain" },
            5: { temp: "8¬∞-16¬∞C", rain: "5%", aqi: "15", icon: "ph-mountains" },
            6: { temp: "7¬∞-15¬∞C", rain: "0%", aqi: "12", icon: "ph-sun" },
            7: { temp: "16¬∞-23¬∞C", rain: "10%", aqi: "42", icon: "ph-sun" },
            8: { temp: "14¬∞-20¬∞C", rain: "15%", aqi: "38", icon: "ph-cloud-sun" }
        };

        const tripDatabase = {
            hotel_tokyo: { title: "ÂìÅÂ∑ùÁéãÂ≠êÈ£ØÂ∫ó", type: "HOTEL", items: [{ label: "È†êÂÆö‰ª£Ëôü", val: "43778SF320681" }, { label: "ÁâπËâ≤", val: "ÈÑ∞ËøëÂìÅÂ∑ùÊ®ûÁ¥êÔºåÈôÑË®≠Â§ßÂûãÊ∞¥ÊóèÈ§®„ÄÇ" }], facilities: [{icon:"ph-wifi-high", text:"WiFi"}, {icon:"ph-fish", text:"Ê∞¥ÊóèÈ§®"}, {icon:"ph-coffee", text:"ÂíñÂï°"}, {icon:"ph-shopping-cart", text:"Ë∂ÖÂïÜ"}, {icon:"ph-thermometer-hot", text:"Á©∫Ë™ø"}, {icon:"ph-martini", text:"ÈÖíÂêß"}] },
            hotel_matsumoto: { title: "ÊùæÊú¨ SUPER HOTEL", type: "HOTEL", items: [{ label: "È†êÂÆö‰ª£Ëôü", val: "5643752627" }, { label: "ÁâπËâ≤", val: "Â§©ÁÑ∂Ê∫´Ê≥â„ÄÅÂÅ•Â∫∑Êó©È§êËàáËá™ÈÅ∏ÊûïÈ†≠„ÄÇ" }], facilities: [{icon:"ph-waves", text:"Ê∫´Ê≥â"}, {icon:"ph-bowl-food", text:"Êó©È§ê"}, {icon:"ph-pillow", text:"ÊûïÈ†≠"}, {icon:"ph-wifi-high", text:"WiFi"}, {icon:"ph-selection", text:"Â•≥ÊÄßÁ¶Æ"}, {icon:"ph-washing-machine", text:"Ê¥óË°£"}] },
            hotel_makuhari: { title: "Êµ∑Êø±ÂπïÂºµÈ£ØÂ∫ó", type: "HOTEL", items: [{ label: "È†êÂÆö‰ª£Ëôü", val: "1128145797437805" }, { label: "ÁâπËâ≤", val: "ÈÑ∞Ëøë OutletÔºåÁõ¥ÈÅîÊàêÁî∞Ê©üÂ†¥Â∑¥Â£´Á´ô„ÄÇ" }], facilities: [{icon:"ph-bus", text:"Êé•ÈßÅ"}, {icon:"ph-shopping-bag", text:"ÂïÜÂúà"}, {icon:"ph-wifi-high", text:"WiFi"}, {icon:"ph-bed", text:"ÂØ¨Êïû"}, {icon:"ph-bathtub", text:"Êµ¥Áº∏"}, {icon:"ph-clock-afternoon", text:"24H"}] },
            meiji: { title: "ÊòéÊ≤ªÁ•ûÂÆÆ", type: "SPOT", items: [{ label: "ÊîªÁï•", val: "‚õ©Ô∏è ÂüéÂ∏ÇÊ£ÆÊûóÔºåÂ∑®Â§ßÁöÑÈ≥•Â±Ö„ÄÇ" }], mustEat: "Êùú‰πãÊ£ÆÂíñÂì©", mustBuy: "Âæ°ÂÆà„ÄÅÂæ°Êú±Âç∞Â∏≥" },
            shibuya: { title: "Êñ∞ÂÆø / Ê∂âË∞∑", type: "SPOT", items: [{ label: "ÊîªÁï•", val: "SHIBUYA SKY ÁúãÂ§ïÈôΩÂøÖÂéª„ÄÇ" }], mustEat: "ÁÇ∏ÁâõÊéí „ÇÇ„Å®Êùë", mustBuy: "‰ªªÂ§©Â†ÇÈÄ±ÈÇä" },
            asakusa: { title: "Ê∑∫ËçâÂØ∫", type: "SPOT", items: [{ label: "ÊîªÁï•", val: "üèÆ ÊÑüÂèóÊù±‰∫¨‰∏ãÁî∫Á∂ìÂÖ∏ÊñáÂåñ„ÄÇ" }], mustEat: "ÈæúÂçÅÈäÖÈëºÁáí", mustBuy: "Èõ∑ÈñÄÂ∞èÁáàÁ±†" },
            jyujyu: { title: "ÊïòÊïòËãë ÁáíËÇâ", type: "FOOD", items: [{ label: "Âú∞Èªû", val: "Êô¥Á©∫Â°îÂ∫ó 30F" }] },
            kokyo: { title: "ÁöáÂ±Ö / Êù±‰∫¨ËªäÁ´ô", type: "SPOT", items: [{ label: "ÊîªÁï•", val: "ÁôæÂπ¥Á¥ÖÁ£öËªäÁ´ôÂ∑°Á¶Æ„ÄÇ" }], mustEat: "ÂÖ≠ÂéòËàçÊ≤æÈ∫µ", mustBuy: "Êù±‰∫¨È¶ôËïâ" },
            ginza: { title: "ÈäÄÂ∫ßË≥ºÁâ©", type: "SPOT", items: [{ label: "ÊîªÁï•", val: "‰∏âË∂äÁôæË≤®ËàáÊ≠•Ë°åËÄÖÂ§©Âúã„ÄÇ" }], mustEat: "Ê≠êÂßÜËõãÂåÖÈ£Ø", mustBuy: "‰ºäÊù±Â±ãÊñáÂÖ∑" },
            castle: { title: "ÊùæÊú¨Âüé", type: "SPOT", items: [{ label: "ÊîªÁï•", val: "ÂúãÂØ∂ÈªëËâ≤Â§©ÂÆà„ÄÇ" }], mustEat: "‰ø°Â∑ûËïéÈ∫•È∫µ", mustBuy: "ÊùæÊú¨ÊâãÈû†" },
            outlet: { title: "‰∏â‰∫ï Outlet", type: "SHOPPING", items: [{ label: "ÊèêÁ§∫", val: "Êµ∑Êø±ÂπïÂºµÊúÄÂæåÂ§ßÊé°Ë≤∑„ÄÇ" }] },
            ci104: { title: "Ê°ÉÂúíÊ©üÂ†¥", type: "TRANSIT", items: [{ label: "Ëà™Áè≠", val: "CI104 12:15" }] },
            ci105: { title: "ÊàêÁî∞Ê©üÂ†¥", type: "TRANSIT", items: [{ label: "Ëà™Áè≠", val: "CI105 17:55" }] },
            t_nrt: { title: "Access ÁâπÊÄ•Ë©≥Ëß£", type: "TRANSIT_INFO", items: [{ label: "Áè≠Ê¨°", val: "Á¥Ñ 40 ÂàÜÈêò‰∏ÄÁè≠ÔºåÁõ¥ÈÄöÂìÅÂ∑ù„ÄÇ" }, { label: "ÈÄ≤Âá∫Á´ô", val: "ÊàêÁî∞Ê©üÂ†¥Âú∞‰∏ãÊúàÂè∞ ‚ûî ÂìÅÂ∑ùÁ´ôÈ´òËº™Âè£„ÄÇ" }, { label: "ÊèêÈÜí", val: "Âà∑ IC Âç°Âç≥ÂèØ„ÄÇ" }] },
            t_jr: { title: "JR Â±±ÊâãÁ∑öË©≥Ëß£", type: "TRANSIT_INFO", items: [{ label: "Áè≠Ê¨°", val: "Èö®ÊôÇÊúâËªä (2-5 ÂàÜÈêò‰∏ÄÁè≠)„ÄÇ" }] },
            t_azusa: { title: "ÁâπÊÄ•Ê¢ìËôüË©≥Ëß£", type: "TRANSIT_INFO", items: [{ label: "Áè≠Ê¨°", val: "Á¥Ñ 1 Â∞èÊôÇ‰∏ÄÁè≠ÔºåÊñ∞ÂÆø ‚ûî ÊùæÊú¨„ÄÇ" }, { label: "ÊèêÈÜí", val: "ÂÖ®ËªäÊåáÂÆöÂ∏≠ÔºåÈúÄÂÖàÂäÉ‰Ωç„ÄÇ" }] },
            t_bus: { title: "Ê©üÂ†¥Â∑¥Â£´Ë©≥Ëß£", type: "TRANSIT_INFO", items: [{ label: "ÊèêÁ§∫", val: "ÊàêÁî∞ T2 ‰∏ãËªäÂç≥ÊòØËà™Á´ô„ÄÇ" }] }
        };

        const tripSchedule = {
            1: [ { id: 'ci104', time: '12:15', title: 'Ê°ÉÂúíÊ©üÂ†¥', icon: 'ph-airplane-tilt' }, { type: 'transit', line: 'Access ÁâπÊÄ• ‚ûî ÂìÅÂ∑ù', infoId: 't_nrt' }, { id: 'hotel_tokyo', time: '20:30', title: 'ÂìÅÂ∑ùÁéãÂ≠êÈ£ØÂ∫ó', icon: 'ph-bed' } ],
            2: [ { id: 'meiji', title: 'ÊòéÊ≤ªÁ•ûÂÆÆ', icon: 'ph-hands-praying' }, { type: 'transit', line: 'JR Â±±ÊâãÁ∑ö', infoId: 't_jr' }, { id: 'shibuya', title: 'Êñ∞ÂÆø / Ê∂âË∞∑', icon: 'ph-shopping-bag' }, { id: 'hotel_tokyo', title: 'ÂìÅÂ∑ùÁéãÂ≠êÈ£ØÂ∫ó', icon: 'ph-bed' } ],
            3: [ { id: 'asakusa', title: 'Ê∑∫ËçâÂØ∫ÂèÉÊãú', icon: 'ph-mosque' }, { id: 'jyujyu', time: '13:00', title: 'ÊïòÊïòËãë ÁáíËÇâ', icon: 'ph-bowl-food' }, { id: 'hotel_tokyo', title: 'ÂìÅÂ∑ùÁéãÂ≠êÈ£ØÂ∫ó', icon: 'ph-bed' } ],
            4: [ { id: 'kokyo', title: 'ÁöáÂ±Ö / Êù±‰∫¨ËªäÁ´ô', icon: 'ph-buildings' }, { id: 'ginza', title: 'ÈäÄÂ∫ßË≥ºÁâ©', icon: 'ph-shopping-bag' }, { id: 'hotel_tokyo', title: 'ÂìÅÂ∑ùÁéãÂ≠êÈ£ØÂ∫ó', icon: 'ph-bed' } ],
            5: [ { type: 'transit', line: 'ÁâπÊÄ•Ê¢ìËôü (Azusa) ‚ûî ÊùæÊú¨', infoId: 't_azusa' }, { id: 'hotel_matsumoto', title: 'ÊùæÊú¨ SUPER HOTEL', icon: 'ph-bed' } ],
            6: [ { id: 'castle', title: 'ÊùæÊú¨ÂüéÂ∑°Á¶Æ', icon: 'ph-castle-turret' }, { id: 'hotel_matsumoto', title: 'ÊùæÊú¨ SUPER HOTEL', icon: 'ph-bed' } ],
            7: [ { type: 'transit', line: 'ËøîÂõûÊù±‰∫¨ / ÂπïÂºµ', infoId: 't_azusa' }, { id: 'outlet', title: '‰∏â‰∫ï Outlet ÂπïÂºµ', icon: 'ph-shopping-bag' }, { id: 'hotel_makuhari', title: 'Êµ∑Êø±ÂπïÂºµÈ£ØÂ∫ó', icon: 'ph-bed' } ],
            8: [ { type: 'transit', line: 'Ê©üÂ†¥È´òÈÄüÂ∑¥Â£´', infoId: 't_bus' }, { id: 'ci105', time: '17:55', title: 'ÊàêÁî∞Ê©üÂ†¥ T2', icon: 'ph-airplane-takeoff' } ]
        };

        const dayBaseInfo = {
            1: { title: "ÊäµÈÅî„ÉªÂìÅÂ∑ù", date: "04/11 SAT", img: "https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=1000" },
            2: { title: "Êº´Ê≠•„ÉªÊù±‰∫¨", date: "04/12 SUN", img: "https://images.unsplash.com/photo-1503899036084-c55cdd92da26?w=1000" },
            3: { title: "‰∏ãÁî∫„ÉªÈ¢®ÊÉÖ", date: "04/13 MON", img: "https://images.unsplash.com/photo-1583444429339-16741200e7bc?w=1000" },
            4: { title: "ÁöáÂ±Ö„ÉªÈäÄÂ∫ß", date: "04/14 TUE", img: "https://images.unsplash.com/photo-1554797589-7241bb691973?w=1000" },
            5: { title: "ÂâçÂæÄ„ÉªÊùæÊú¨", date: "04/15 WED", img: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=1000" },
            6: { title: "ÂúãÂØ∂„ÉªÂ∑°Á¶Æ", date: "04/16 THU", img: "https://images.unsplash.com/photo-1528164344705-4754268799af?w=1000" },
            7: { title: "ÂπïÂºµ„ÉªË≥ºÁâ©", date: "04/17 FRI", img: "https://images.unsplash.com/photo-1490761668535-354632947d45?w=1000" },
            8: { title: "Ë≥¶Ê≠∏„ÉªÂõûÂè∞", date: "04/18 SAT", img: "https://images.unsplash.com/photo-1524413139048-3fd0507be7e4?w=1000" }
        };

        function switchDay(num) {
            document.querySelectorAll('.date-item').forEach((it, idx) => it.classList.toggle('active', idx === num - 1));
            const info = dayBaseInfo[num];
            document.getElementById('heroImage').style.backgroundImage = `url('${info.img}')`;
            document.getElementById('heroTitle').innerText = info.title;
            document.getElementById('heroDate').innerText = info.date;
            const w = weatherData[num];
            document.getElementById('weatherBarArea').innerHTML = `<div class="weather-tag"><i class="ph-duotone ${w.icon}"></i> ${w.temp}</div><div class="weather-tag"><i class="ph-duotone ph-drop"></i> ${w.rain}</div><div class="weather-tag"><i class="ph-duotone ph-wind"></i> AQI ${w.aqi}</div>`;
            const schedule = tripSchedule[num] || [];
            document.getElementById('dayContentArea').innerHTML = schedule.map(item => {
                if(item.type === 'transit') return `<div class="transit-line"><span><i class="ph-duotone ph-train"></i> ${item.line}</span> <button class="transit-info-btn" onclick="openDrawer('${item.infoId}')"><i class="ph-bold ph-info"></i></button></div>`;
                return `<div class="card" onclick="openDrawer('${item.id}')"><div class="card-icon"><i class="ph-duotone ${item.icon}"></i></div><div class="card-body">${item.time ? `<div class="card-time">${item.time}</div>` : ''}<div class="card-title">${item.title}</div></div><button class="nav-btn" onclick="event.stopPropagation(); window.open('https://www.google.com/maps/search/?api=1&query='+encodeURIComponent(item.title), '_blank')"><i class="ph-duotone ph-map-pin"></i></button></div>`;
            }).join('');
        }

        function openDrawer(id) {
            const data = tripDatabase[id];
            if (!data) return;
            let extra = '';
            if (data.facilities) extra = `<div class="info-label">È£ØÂ∫óË®≠ÊñΩ</div><div class="facility-grid">${data.facilities.map(f=>`<div class="facility-item"><i class="ph-duotone ${f.icon}"></i>${f.text}</div>`).join('')}</div>`;
            if (data.type === 'SPOT') extra = `<div class="spot-guide-grid"><div class="guide-box"><div class="guide-box-title"><i class="ph-bold ph-cooking-pot"></i>ÂøÖÂêÉ</div><div class="guide-box-content">${data.mustEat}</div></div><div class="guide-box"><div class="guide-box-title"><i class="ph-bold ph-bag"></i>ÂøÖË≤∑</div><div class="guide-box-content">${data.mustBuy}</div></div></div>`;
            document.getElementById('drawerBody').innerHTML = `<span class="info-tag">${data.type.replace('_',' ')}</span><div style="font-size:1.4rem; font-weight:700; margin-bottom:15px;">${data.title}</div>${data.items.map(i => `<div class="info-item"><span class="info-label">${i.label}</span><span class="info-val">${i.val}</span></div>`).join('')}${extra}<button class="btn-close" onclick="closeDrawer()">ÈóúÈñâË≥áË®ä</button>`;
            document.getElementById('drawerOverlay').classList.add('active');
            document.getElementById('infoDrawer').classList.add('active');
        }

        function closeDrawer() { document.getElementById('drawerOverlay').classList.remove('active'); document.getElementById('infoDrawer').classList.remove('active'); }
        switchDay(1);
    </script>
</body>
</html>
